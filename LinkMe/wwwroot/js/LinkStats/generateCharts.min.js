function createClickChart(n){var i=am4core.create("clickChart",am4charts.XYChart),r=i.xAxes.push(new am4charts.DateAxis),u,t;r.title.text="Data kliknięcia";r.renderer.grid.template.location=0;r.renderer.minGridDistance=20;u=i.yAxes.push(new am4charts.ValueAxis);u.title.text="Liczba kliknięć";t=i.series.push(new am4charts.LineSeries);t.name="Kliknięcia";t.dataFields.dateX="clickDate";t.dataFields.valueY="count";t.fill="#02D3C7";t.stroke=am4core.color("#02d3c7");t.strokeWidth=2;t.tooltipText="{dateX}: [b]{valueY}[/]";t.bullets.push(new am4charts.CircleBullet);t.data=n;i.cursor=new am4charts.XYCursor}function createMapChart(n){var i,t,r;console.log(n);i=am4core.create("locationsMap",am4maps.MapChart);i.geodata=am4geodata_worldHigh;i.projections=new am4maps.projections.Miller;t=i.series.push(new am4maps.MapPolygonSeries);t.heatRules.push({property:"fill",target:t.mapPolygons.template,min:am4core.color("#006661"),max:am4core.color("#5ce2db")});t.useGeodata=!0;t.dataFields.categoryX="countryCode";t.dataFields.valueY="count";r=t.mapPolygons.template;r.tooltipText="{name}: [b]{value}[/]"}window.onload=()=>{var n=window.location.href.slice(-1);await fetch(`https://localhost:44388/api/LinkStats/${n}`,{method:"GET"}).then(n=>{if(n.ok)return n.json();throw new Error(n.status);}).then(n=>{createClickChart(n.dateStatsDtos),createMapChart(n.regionDtos)}).catch(n=>{console.log("Error: ",n)})};